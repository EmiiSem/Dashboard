<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Категории</title>
    <link rel="stylesheet" href="../assest/CSS/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
     <!-- 
        Шапка
    -->
    <header class="header">
        <nav class="menu">
            <ul>
                <div class="block">
                    <img src="../assest/img/logo.png" title="Dashboard">
                    <li class="text_dash"><a href="../index.html">Dashboard</a></li>
                </div>
                <div class="block">
                    <img src="../assest/img/icons/icon-main.png" title="Главная страница">
                    <li><a href="../index.html">Главная</a></li>
                </div>
                <div class="block" id="drop_hidden">
                    <img src="../assest/img/icons/icon-certif.png" title="Справки">
                    <li>
                        <a href="">Справка</a>
                        <ul class="drop">
                            <li><a href="MainCertificate_page.html" class="dropdown">Общие справки</a></li>
                            <li><a href="CerificateCategories_vehicles.html" class="dropdown">Справки по транспорту</a></li>
                            <li><a href="CertificateCategory_page.html" class="dropdown">Справки по неисправностям</a></li>
                        </ul>
                    </li>
                </div>
                <div class="block">
                    <img src="../assest/img/icons/icon-graphics.png" title="Графики">
                    <li><a href="">Графика</a></li>
                </div>
                <div class="block" id="drop_hidden_two">
                    <img src="../assest/img/icons/icon-categoryes.png" title="Категории">
                    <li>
                        <a href="">Категории</a>
                        <ul class="drop_two">
                            <li><a href="Category-one_page.html" class="dropdown">Первая категория</a></li>
                            <li><a href="" class="dropdown">Вторая категория</a></li>
                        </ul>
                    </li>
                </div>
            </ul>
        </nav>
        <label id="menu_btn" class="menu-toggle">
            <h2>Dashboard</h2>
            <span></span>
        </label>
        <div class="heads">
            <button class="btn__filtr">Фильтрация</button>
            <img src="../assest/img/icons/icon-notificate.png" alt="">
            <div class="circle"><span class="name_user">A</span></div>
        </div>
    </header>

     <!-- 
        Основной раздел
    -->
    <section class="main">
        <div class="container p2">
            <h1 class="text_title">Обеспечение запасными частями через <br> приказ-извищение</h1>

            <div class="gistograms gramms">
                 <!-- Начало первого графика -->
                 <div class="gist5">
                    <h2 class="graph_title">Выпуск и сдача з/ч по ПИ</h2>
                    <div id="gistContainer5">
                        <canvas id="myGistogramm"></canvas>
                    </div>
                </div>
                <!-- Конец первого графика -->

                <div class="gist5">
                    <h2 class="graph_title">Сроки исполнения приказ-извищений, дней</h2>
                    <div id="gistContainer5">
                        <canvas id="myGistogramm2"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script src="../assest/JS/category.js"></script>
    <script>
        // 1 график
        const ctx = document.getElementById('myGistogramm').getContext('2d');
        Chart.defaults.color = "black";
        const myChart = new Chart(ctx, {
            data: {
                labels: ['1 кв.23', '2 кв.23', '3 кв.23', '4 кв.23', 'Янв.24'],
                datasets: [{
                    label: '% ПИ, сданных в срок',
                    type: "line",
                    backgroundColor: '#FFF',
                    borderColor: "#008000",
                    data: [44, 39, 38, 34, 57],
                    yAxisID: 'y1',
                }, {
                    label: 'Кол-во выпущенных ПИ, шт.',
                    type: "bar",
                    data: [153, 180, 164, 134, 21],
                    backgroundColor: '#F3B411',
                    yAxisID: 'y',
                }],
            },

            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        // beginAtZero: true,
                        min: 0,
                        max: 200,
                        // stacked: true,
                        ticks: {
                            stepSize: 50
                        },
                    },

                    y1: {
                        // beginAtZero: true,
                        min: 0,
                        max: 60,
                        position: 'right',
                        // stacked: true,
                        ticks: {
                            stepSize: 20
                        },
                    },

                    x: {
                        // stacked: true,
                    }
                },

                plugins: {
                    legend: {
                        display: true,
                        position: "bottom",
                        labels: {
                            boxWidth: 50,
                            color: "black",
                            font: {
                                size: 14,
                            }
                        }
                    },
                }
            }
        });

        // 2 график
        const ctx2 = document.getElementById('myGistogramm2').getContext('2d');
        Chart.defaults.color = "black";
        const myChart2 = new Chart(ctx2, {
            data: {
                labels: ['1 кв.23', '2 кв.23', '3 кв.23', '4 кв.23', 'Янв.24'],
                datasets: [{
                    label: 'Норматив',
                    type: "line",
                    backgroundColor: '#FFF',
                    borderColor: "#008000",
                    data: [2, 2, 2, 2, 2],
                }, {
                    label: 'Факт',
                    type: "bar",
                    data: [7.3, 8.66, 7.80, 10.08, 3.86],
                    backgroundColor: '#F3B411',
                    yAxisID: 'y',
                }],
            },

            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        // beginAtZero: true,
                        min: 0,
                        max: 12,
                        // stacked: true,
                        ticks: {
                            stepSize: 2
                        },
                    },

                    x: {
                        // stacked: true,
                    }
                },

                plugins: {
                    legend: {
                        display: true,
                        position: "bottom",
                        labels: {
                            boxWidth: 50,
                            color: "black",
                            font: {
                                size: 14,
                            }
                        }
                    },
                }
            }
        });
    </script>
</body>
</html>