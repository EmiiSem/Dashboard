<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Справка несправностей</title>
    <link rel="stylesheet" href="../assest/CSS/style.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body>
    <!-- 
        Шапка
    -->
    <header class="header">
        <nav class="menu">
            <ul>
                <div class="block">
                    <img src="../assest/img/logo.png" title="Dashboard">
                    <li class="text_dash"><a href="../index.html">Dashboard</a></li>
                </div>
                <div class="block">
                    <img src="../assest/img/icons/icon-main.png" title="Главная страница">
                    <li><a href="../index.html">Главная</a></li>
                </div>
                <div class="block" id="drop_hidden">
                    <img src="../assest/img/icons/icon-certif.png" title="Справки">
                    <li>
                        <a href="">Справка</a>
                        <ul class="drop">
                            <li><a href="MainCertificate_page.html" class="dropdown">Общие справки</a></li>
                            <li><a href="CerificateCategories_vehicles.html" class="dropdown">Справки по транспорту</a></li>
                            <li><a href="CertificateCategory_page.html" class="dropdown">Справки по неисправностям</a></li>
                        </ul>
                    </li>
                </div>
                <div class="block">
                    <img src="../assest/img/icons/icon-graphics.png" title="Графики">
                    <li><a href="">Графика</a></li>
                </div>
                <div class="block" id="drop_hidden_two">
                    <img src="../assest/img/icons/icon-categoryes.png" title="Категории">
                    <li>
                        <a href="">Категории</a>
                        <ul class="drop_two">
                            <li><a href="Category-one_page.html" class="dropdown">Первая категория</a></li>
                            <li><a href="" class="dropdown">Вторая категория</a></li>
                        </ul>
                    </li>
                </div>
            </ul>
        </nav>
        <label id="menu_btn" class="menu-toggle">
            <h2>Dashboard</h2>
            <span></span>
        </label>

        <div class="heads">
            <button class="btn__filtr">Фильтрация</button>
            <img src="../assest/img/icons/icon-notificate.png" alt="">
            <div class="circle"><span class="name_user">A</span></div>
        </div>
    </header>

    <!-- 
        Основной раздел
    -->
    <section class="main">
        <div class="container p2">
            <h1 class="text_title">Ежемесячная справка структуре <br> неисправностей</h1>
            <p class="text_subtitle">Основные проблемы и частота их возникновения</p>

            <div class="gistograms">

                <!-- Начало первого графика -->
                <div class="gist3">
                    <h2 class="graph_title">Уровень отказности по системам на единицу гарантийной техники, приведённый к году <br> (с динамикой относительно 2023)</h2>
                    <div id="gistContainer3">
                        <canvas id="myGistogramm"></canvas>
                    </div>
                </div>
                <!-- Конец первого графика -->

                <div class="gist3">
                    <h2 class="graph_title">Диаграмма Парето по системам, отказавшим в эксплуатации <br> (с динамикой относительно 2023)</h2>
                    <div id="gistContainer3">
                        <canvas id="myGistogramm2"></canvas>
                    </div>
                </div>

            </div>


            <div class="gisto-grid">

                <div class="gist4">
                    <h2 class="graph_title">Диаграмма Парето по узлам ГС НО, <br> отказавшим в эксплуатации <br> (с динамикой относительно 2023г.)</h2>
                    <div id="gistContainer4">
                        <canvas id="myGistogramm3"></canvas>
                    </div>
                </div>

                <div class="gist4">
                    <h2 class="graph_title">Диаграмма Парето по узлам Трансмиссии, <br> отказавшим в эксплуатации <br> (с динамикой относительно 2023г.)</h2>
                    <div id="gistContainer4">
                        <canvas id="myGistogramm4"></canvas>
                    </div>
                </div>

                <div class="gist4">
                    <h2 class="graph_title">Диаграмма Парето по узлам ДВС ЯМЗ, <br> отказавшим в эксплуатации <br> (с динамикой относительно 2023г.)</h2>
                    <div id="gistContainer4">
                        <canvas id="myGistogramm5"></canvas>
                    </div>
                </div>

                <div class="gist4">
                    <h2 class="graph_title">Диаграмма Парето по узлам электрооборудования, <br>отказавшим в эксплуатации <br>(с динамикой относительно 2023г.)</h2>
                    <div id="gistContainer4">
                        <canvas id="myGistogramm6"></canvas>
                    </div>
                </div>

            </div>


        </div>
    </section>

    <script src="../assest/JS/scrip.js"></script>
    <script>
        // 1 диаграмма
        const ctx = document.getElementById('myGistogramm').getContext('2d');
        Chart.defaults.color = "black";
        const myChart = new Chart(ctx, {
            data: {
                labels: ['ГС НО', 'Транссмиссия', 'Уст ДВС ЯМЗ', 'Электрооборудование', 'Навес оборудование', 'Ходовая система',
                'Система охлаж', 'Кабина', 'Облицовка', 'Система воздухоочистки', 'Система топливная', 'Установка ДВС Cummins'],
                datasets: [{
                    label: 'Парето',
                    type: "line",
                    backgroundColor: '#FFF',
                    borderColor: "#008000",
                    data: [26, 45, 57, 69, 78, 86, 92, 97, 98, 99, 100, 100]
                }, {
                    label: '2023',
                    type: "bar",
                    backgroundColor: '#47243B',
                    data: [20, 21, 20, 13, 3, 8, 2, 7, 0, 0, 0, 2],
                    yAxisID: 'y1',
                }, {
                    label: '2024',
                    type: "bar",
                    data: [25, 18, 12, 11, 9, 8, 5, 5, 1, 1, 1, 0],
                    backgroundColor: '#F3B411',
                    yAxisID: 'y1',
                }],
            },

            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        // beginAtZero: true,
                        min: 0,
                        max: 100,
                        // stacked: true,
                        ticks: {
                            stepSize: 20
                        },
                    },

                    y1: {
                        // beginAtZero: true,
                        min: 0,
                        max: 30,
                        position: 'right',
                        // stacked: true,
                        ticks: {
                            stepSize: 5
                        },
                    },

                    x: {
                        // stacked: true,
                    }
                },

                plugins: {
                    legend: {
                        display: true,
                        position: "bottom",
                        labels: {
                            boxWidth: 50,
                            color: "black",
                            font: {
                                size: 14,
                            }
                        }
                    },
                }
            }
        });

        // 2 диаграмма
        const ctx2 = document.getElementById('myGistogramm2').getContext('2d');
        Chart.defaults.color = "black";
        const myChart2 = new Chart(ctx2, {
            data: {
                labels: ['ГС НО', 'Транссмиссия', 'Уст ДВС ЯМЗ', 'Электрооборудование', 'Навес оборудование', 'Ходовая система',
                'Система охлаж', 'Кабина', 'Облицовка', 'Система воздухоочистки', 'Система топливная', 'Установка ДВС Cummins'],
                datasets: [{
                    label: '2023',
                    type: "bar",
                    backgroundColor: '#47243B',
                    data: [0.41, 0.43, 0.41, 0.27, 0.06, 0.16, 0.04, 0.14, 0, 0, 0, 0.04],
                    yAxisID: 'y',
                }, {
                    label: '2024',
                    type: "bar",
                    data: [0.34, 0.24, 0.16, 0.15, 0.12, 0.11, 0.07, 0.07, 0.01, 0.01, 0.01, 0],
                    backgroundColor: '#F3B411',
                    yAxisID: 'y',
                }],
            },

            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        // beginAtZero: true,
                        min: 0,
                        max: 0.50,
                        // stacked: true,
                        ticks: {
                            stepSize: 0.05
                        },
                    },

                    x: {
                        // stacked: true,
                    }
                },

                plugins: {
                    legend: {
                        display: true,
                        position: "bottom",
                        labels: {
                            boxWidth: 50,
                            color: "black",
                            font: {
                                size: 14,
                            }
                        }
                    },
                }
            }
        });

        // 3 диаграмма
        const ctx3 = document.getElementById('myGistogramm3').getContext('2d');
        Chart.defaults.color = "black";
        const myChart3 = new Chart(ctx3, {
            data: {
                labels: ['ГС Елец', 'Гидроблок', 'Распред ПТ', 'Рукав не идентиф', 'Распред Белгидромаш', 'Насос',
                'Гидробак', 'Гидропневаккум', 'Клапан'],
                datasets: [{
                    label: 'Парето',
                    type: "line",
                    backgroundColor: '#FFF',
                    borderColor: "#008000",
                    data: [55, 65, 75, 85, 90, 95, 100, 100, 100]
                }, {
                    label: '2023',
                    type: "bar",
                    backgroundColor: '#47243B',
                    data: [6, 1, 2, 1, 0, 1, 0, 0, 5],
                    yAxisID: 'y1',
                }, {
                    label: '2024',
                    type: "bar",
                    data: [11, 2, 2, 2, 1, 1, 1, 0, 0, 0],
                    backgroundColor: '#F3B411',
                    yAxisID: 'y1',
                }],
            },

            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        // beginAtZero: true,
                        min: 0,
                        max: 100,
                        // stacked: true,
                        ticks: {
                            stepSize: 20
                        },
                    },

                    y1: {
                        // beginAtZero: true,
                        min: 0,
                        max: 12,
                        position: 'right',
                        // stacked: true,
                        ticks: {
                            stepSize: 2
                        },
                    },

                    x: {
                        // stacked: true,
                    }
                },

                plugins: {
                    legend: {
                        display: true,
                        position: "bottom",
                        labels: {
                            boxWidth: 50,
                            color: "black",
                            font: {
                                size: 14,
                            }
                        }
                    },
                }
            }
        });

        // 4 диаграмма
        const ctx4 = document.getElementById('myGistogramm4').getContext('2d');
        Chart.defaults.color = "black";
        const myChart4 = new Chart(ctx4, {
            data: {
                labels: ['ГТР с РПН', 'БП', 'Насос', 'БУ ПТ', 'КПП', 'ГП',
                'Блок трансмиссии', 'Клапан ПОК', 'БФиОТ', 'Муфта', 'Фильтр', 'Клапан ПТ'],
                datasets: [{
                    label: 'Парето',
                    type: "line",
                    backgroundColor: '#FFF',
                    borderColor: "#008000",
                    data: [29, 50, 71, 86, 93, 100, 100, 100, 100, 100, 100, 100]
                }, {
                    label: '2023',
                    type: "bar",
                    backgroundColor: '#47243B',
                    data: [1, 2, 3, 0, 1, 0, 1, 4, 0, 4, 1, 4],
                    yAxisID: 'y1',
                }, {
                    label: '2024',
                    type: "bar",
                    data: [4, 3, 3, 2, 1, 1, 0, 0, 0, 0, 0, 0],
                    backgroundColor: '#F3B411',
                    yAxisID: 'y1',
                }],
            },

            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        // beginAtZero: true,
                        min: 0,
                        max: 100,
                        // stacked: true,
                        ticks: {
                            stepSize: 20
                        },
                    },

                    y1: {
                        // beginAtZero: true,
                        min: 0,
                        max: 12,
                        position: 'right',
                        // stacked: true,
                        ticks: {
                            stepSize: 2
                        },
                    },

                    x: {
                        // stacked: true,
                    }
                },

                plugins: {
                    legend: {
                        display: true,
                        position: "bottom",
                        labels: {
                            boxWidth: 50,
                            color: "black",
                            font: {
                                size: 14,
                            }
                        }
                    },
                }
            }
        });

        // 5 диаграмма
        const ctx5 = document.getElementById('myGistogramm5').getContext('2d');
        Chart.defaults.color = "black";
        const myChart5 = new Chart(ctx5, {
            data: {
                labels: ['ДВС', 'Генератор', 'Подогрев ПЖД', 'Стартер', 'ТНВД', 'Подогрев Hydronic',
                'Клапан КЭМ', 'ТКР', 'Заслонка'],
                datasets: [{
                    label: 'Парето',
                    type: "line",
                    backgroundColor: '#FFF',
                    borderColor: "#008000",
                    data: [17, 38, 50, 58, 67, 75, 83, 92, 100]
                }, {
                    label: '2023',
                    type: "bar",
                    backgroundColor: '#47243B',
                    data: [5, 1, 3, 4, 2, 2, 1, 0, 0],
                    yAxisID: 'y1',
                }, {
                    label: '2024',
                    type: "bar",
                    data: [2, 2, 2, 1, 1, 1, 1, 1, 1],
                    backgroundColor: '#F3B411',
                    yAxisID: 'y1',
                }],
            },

            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        // beginAtZero: true,
                        min: 0,
                        max: 100,
                        // stacked: true,
                        ticks: {
                            stepSize: 20
                        },
                    },

                    y1: {
                        // beginAtZero: true,
                        min: 0,
                        max: 6,
                        position: 'right',
                        // stacked: true,
                        ticks: {
                            stepSize: 1
                        },
                    },

                    x: {
                        // stacked: true,
                    }
                },

                plugins: {
                    legend: {
                        display: true,
                        position: "bottom",
                        labels: {
                            boxWidth: 50,
                            color: "black",
                            font: {
                                size: 14,
                            }
                        }
                    },
                }
            }
        });

        // 6 диаграмма
        const ctx6 = document.getElementById('myGistogramm6').getContext('2d');
        Chart.defaults.color = "black";
        const myChart6 = new Chart(ctx6, {
            data: {
                labels: ['Панель приборная', 'Контроллер АТИ', 'Датчик', 'Огран нагрузки крана', 'Жгут', 'Выключатель',
                'Контроллер Бош'],
                datasets: [{
                    label: 'Парето',
                    type: "line",
                    backgroundColor: '#FFF',
                    borderColor: "#008000",
                    data: [38, 63, 88, 100, 100, 100, 100]
                }, {
                    label: '2023',
                    type: "bar",
                    backgroundColor: '#47243B',
                    data: [0, 4, 1, 0, 3, 0, 2, 0],
                    yAxisID: 'y1',
                }, {
                    label: '2024',
                    type: "bar",
                    data: [3, 2, 2, 1, 0, 0, 0, 0],
                    backgroundColor: '#F3B411',
                    yAxisID: 'y1',
                }],
            },

            options: {
                responsive: true,
                maintainAspectRatio: false,
                scales: {
                    y: {
                        // beginAtZero: true,
                        min: 0,
                        max: 100,
                        // stacked: true,
                        ticks: {
                            stepSize: 20
                        },
                    },

                    y1: {
                        // beginAtZero: true,
                        min: 0,
                        max: 5,
                        position: 'right',
                        // stacked: true,
                        ticks: {
                            stepSize: 1
                        },
                    },

                    x: {
                        // stacked: true,
                    }
                },

                plugins: {
                    legend: {
                        display: true,
                        position: "bottom",
                        labels: {
                            boxWidth: 50,
                            color: "black",
                            font: {
                                size: 14,
                            }
                        }
                    },
                }
            }
        });


    </script>
</body>
</html>